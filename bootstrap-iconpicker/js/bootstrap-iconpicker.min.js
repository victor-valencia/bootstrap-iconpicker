/* ========================================================================
 * Bootstrap: bootstrap-iconpicker.js v1.4.0 by @recktoner
 * https://victor-valencia.github.com/bootstrap-iconpicker
 * ========================================================================
 * Copyright 2013-2014 Victor Valencia Rico.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================================== */
+function(e){"use strict";var t=function(n,r){this.$element=e(n);this.options=e.extend({},t.DEFAULTS,this.$element.data());this.options=e.extend({},this.options,r)};t.ICONSET={glyphicon:["adjust","align-center","align-justify","align-left","align-right","arrow-down","arrow-left","arrow-right","arrow-up","asterisk","backward","ban-circle","barcode","bell","bold","book","bookmark","briefcase","bullhorn","calendar","camera","certificate","check","chevron-down","chevron-left","chevron-right","chevron-up","circle-arrow-down","circle-arrow-left","circle-arrow-right","circle-arrow-up","cloud","cloud-download","cloud-upload","cog","collapse-down","collapse-up","comment","compressed","copyright-mark","credit-card","cutlery","dashboard","download","download-alt","earphone","edit","eject","envelope","euro","exclamation-sign","expand","export","eye-close","eye-open","facetime-video","fast-backward","fast-forward","file","film","filter","fire","flag","flash","floppy-disk","floppy-open","floppy-remove","floppy-save","floppy-saved","folder-close","folder-open","font","forward","fullscreen","gbp","gift","glass","globe","hand-down","hand-left","hand-right","hand-up","hd-video","hdd","header","headphones","heart","heart-empty","home","import","inbox","indent-left","indent-right","info-sign","italic","leaf","link","list","list-alt","lock","log-in","log-out","magnet","map-marker","minus","minus-sign","move","music","new-window","off","ok","ok-circle","ok-sign","open","paperclip","pause","pencil","phone","phone-alt","picture","plane","play","play-circle","plus","plus-sign","print","pushpin","qrcode","question-sign","random","record","refresh","registration-mark","remove","remove-circle","remove-sign","repeat","resize-full","resize-horizontal","resize-small","resize-vertical","retweet","road","save","saved","screenshot","sd-video","search","send","share","share-alt","shopping-cart","signal","sort","sort-by-alphabet","sort-by-alphabet-alt","sort-by-attributes","sort-by-attributes-alt","sort-by-order","sort-by-order-alt","sound-5-1","sound-6-1","sound-7-1","sound-dolby","sound-stereo","star","star-empty","stats","step-backward","step-forward","stop","subtitles","tag","tags","tasks","text-height","text-width","th","th-large","th-list","thumbs-down","thumbs-up","time","tint","tower","transfer","trash","tree-conifer","tree-deciduous","unchecked","upload","usd","user","volume-down","volume-off","volume-up","warning-sign","wrench","zoom-in","zoom-out"],fa:e.fontawesome||[]};t.DEFAULTS={iconset:"glyphicon",icon:"",rows:4,cols:4,placement:"bottom",arrowClass:"btn-primary",selectedClass:"btn-warning",unselectedClass:"btn-default"};t.prototype.createButtonBar=function(){var t=this.options;var n=e("<tr></tr>");for(var r=0;r<t.cols;r++){var i=e('<button class="btn '+t.arrowClass+'"><span class="glyphicon"></span></button>');var s=e('<td class="text-center"></td>');if(r==0||r==t.cols-1){i.val(r==0?-1:1);i.addClass(r==0?"btn-previous":"btn-next");i.find("span").addClass(r==0?"glyphicon-arrow-left":"glyphicon-arrow-right");s.append(i);n.append(s)}else if(n.find(".page-count").length==0){s.attr("colspan",t.cols-2).append('<span class="page-count"></span>');n.append(s)}}t.table.find("thead").append(n)};t.prototype.updateButtonBar=function(e){var t=this.options;var n=Math.ceil(t.icons.length/(t.cols*t.rows));t.table.find(".page-count").html(e+" / "+n);var r=t.table.find(".btn-previous");var i=t.table.find(".btn-next");e==1?r.addClass("disabled"):r.removeClass("disabled");e==n?i.addClass("disabled"):i.removeClass("disabled")};t.prototype.bindEvents=function(){var t=this.options;var n=this;t.table.find(".btn-previous, .btn-next").off("click").on("click",function(){var r=parseInt(e(this).val());n.changeList(t.page+r)});t.table.find(".btn-icon").off("click").on("click",function(){n.select(e(this).val());n.$element.popover("destroy")})};t.prototype.select=function(t){var n=this.options;var r=this.$element;n.selected=e.inArray(t.replace(n.iconClassFix,""),n.icons);if(n.selected==-1){n.selected=0;t=n.iconClassFix+n.icons[n.selected]}if(t!=""&&n.selected>=0){n.icon=t;r.find("input").val(t);r.find("i").attr("class","").addClass(n.iconClass).addClass(t);r.trigger({type:"change",icon:t});n.table.find("button."+n.selectedClass).removeClass(n.selectedClass)}};t.prototype.switchPage=function(t){var n=this.options;n.selected=e.inArray(t.replace(n.iconClassFix,""),n.icons);if(t!=""&&n.selected>=0){var r=Math.ceil((n.selected+1)/(n.cols*n.rows));this.changeList(r)}n.table.find("i."+t).parent().addClass(n.selectedClass)};t.prototype.changeList=function(t){var n=this.options;this.updateButtonBar(t);var r=n.table.find("tbody").empty();var i=(t-1)*n.rows*n.cols;for(var s=0;s<n.rows;s++){var o=e("<tr></tr>");for(var u=0;u<n.cols;u++){var a=i+s*n.cols+u;var f=e('<button class="btn '+n.unselectedClass+' btn-icon"></button>').hide();if(a<n.icons.length){var l=n.iconClassFix+n.icons[a];f=e('<button class="btn '+(n.icon==l?n.selectedClass:n.unselectedClass)+' btn-icon" value="'+l+'" title="'+l+'"><i class="'+n.iconClass+" "+l+'"></i></button>')}var c=e("<td></td>").append(f);o.append(c)}r.append(o)}n.page=t;this.bindEvents()};t.prototype.setIcon=function(e){this.select(e)};var n=e.fn.iconpicker;e.fn.iconpicker=function(n,r){return this.each(function(){var i=e(this);var s=i.data("bs.iconpicker");var o=typeof n=="object"&&n;if(!s)i.data("bs.iconpicker",s=new t(this,o));if(typeof n=="string")s[n](r);else{var u=s.options;var a=u.iconset=="fontawesome"?"fa":"glyphicon";u=e.extend(u,{icons:t.ICONSET[a],iconClass:a,iconClassFix:a+"-",page:1,selected:-1,table:e('<table class="table-icons"><thead></thead><tbody></tbody></table>')});var f=typeof i.attr("name")!="undefined"?'name="'+i.attr("name")+'"':"";i.empty().append("<i></i>").append('<input type="hidden" '+f+"></input>").append('<span class="caret"></span>');i.addClass("iconpicker");s.createButtonBar();s.changeList(1);i.on("click",function(e){e.preventDefault();i.popover({animation:false,trigger:"manual",html:true,content:s.options.table,container:"body",placement:s.options.placement}).on("shown.bs.popover",function(){s.switchPage(u.icon);s.bindEvents()});i.data("bs.popover").tip().addClass("iconpicker-popover");i.popover("show")});s.select(u.icon)}})};e.fn.iconpicker.Constructor=t;e.fn.iconpicker.noConflict=function(){e.fn.iconpicker=n;return this};e(document).on("click","body",function(t){e(".iconpicker").each(function(){if(!e(this).is(t.target)&&e(this).has(t.target).length===0&&e(".popover").has(t.target).length===0){e(this).popover("destroy")}})});e('button[role="iconpicker"]').iconpicker()}(window.jQuery)
